<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title>Endless Worldle</title>

<script src="https://cdn.jsdelivr.net/npm/d3@7"></script>
<script src="https://cdn.jsdelivr.net/npm/topojson-client@3"></script>
</head>
<body>
<h1>Endless Worldle</h1>

<script>
/* COUNTRY / TERRITORY POLICY */

/* Explicit exclusions */
const EXCLUDE = new Set([
  "Akrotiri",
  "Dhekelia",
  "Ashmore and Cartier Is.",
  "British Indian Ocean Territory",
  "Heard Island and McDonald Islands",
  "South Georgia and the South Sandwich Islands",
  "Clipperton Island",
  "Guernsey",
  "Åland",
  "Aland",
  "Réunion",
  "Reunion",
  "Hong Kong",
  "Macau",
  "Mayotte"
]);

/* Explicit inclusions */
const INCLUDE_OVERRIDE = new Set([
  "Greenland",
  "Puerto Rico",
  "Faroe Islands",
  "New Caledonia",
  "French Guiana",
  "Guadeloupe",
  "Martinique",
  "Aruba",
  "Curaçao",
  "Isle of Man",
  "Jersey",
  "Western Sahara"
]);

async function load(){
  const world = await fetch("https://unpkg.com/world-atlas@2.0.2/countries-10m.json").then(r=>r.json());
  const obj = world.objects.countries || Object.values(world.objects)[0];
  const features = topojson.feature(world, obj).features;

  const final = features.filter(f => {
    const n = f.properties.name;
    if (EXCLUDE.has(n)) return false;
    if (INCLUDE_OVERRIDE.has(n)) return true;
    return true;
  });

  console.log("Final list:", final.map(f=>f.properties.name).sort());
}
load();
</script>
</body>
</html>
